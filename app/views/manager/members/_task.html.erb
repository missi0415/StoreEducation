<%= form_with model: task_new,url: manager_tasks_path(task),local: true , id: "form" do |f| %>
    <div class="form-inline">
      <%#= f.label :start_on, "開始日", class: "text-secondary"%>
      <%= date_field_tag 'task[start_on]',  Date.today ,class: "form-control" %>
      <%#=f.label :end_on,"終了日" , class: "text-secondary" %>
      <%= date_field_tag 'task[end_on]', nil ,class: "form-control"%>
    </div>
    <div class="form-inline mt-1">
      <%= f.text_field :title,class: "form-control w-25" ,placeholder: "課題項目を入力してください" %>
      <%= f.text_area :body ,class: "form-control w-50",id: "auto-resize",placeholder: "課題内容を入力してください"  %>
      <%= f.hidden_field :member_id, value: member_id %>
      <%= f.submit "課題項目追加", class: " form-control w-25 btn btn-secondary" %>
    </div>
      <% end %>
<% tasks.each do |task| %>
  <%= form_with model: task ,url: manager_task_path(task),local: true do |f| %>
    <div class="card-body-m shadow rounded mt-5 mb-5">
      <div>
        <%= f.text_field :title ,id: "task_title_#{task.id}",style: "border: none" ,class: "form-control w-25 form-custom-group text-primary font-weight-bold mt-1 mb-2" %>
        
        <%= f.label :start_on, "開始日", class: "text-secondary"%>
        <%= f.date_field :start_on ,id: "task_start_on_#{task.id}",style: "border: none" ,class: "text-secondary mr-4 " %>
        ～
        <%=f.label :end_on,"終了日" , class: "text-secondary ml-4" %>
        <%= f.date_field :end_on ,id: "task_end_on_#{task.id}",style: "border: none" ,class: "text-secondary "%>
      </div>
      <div class="d-flex justify-content-center">
        <div class="text-left w-50 border shadow rounded m-3">
          <%= f.label :body, "課題内容",class: "font-weight-bold text-secondary" %>
          <%= f.text_area :body  ,id: "task_body_#{task.id}",style: "border: none",class: "form-control auto-resize"%>
        </div>
        <div class="w-50 border shadow rounded m-3">
          <p class="text-secondary font-weight-bold mb-2">メンバー進捗</p>
          <p class="text-secondary mb-2">状況 : <%= task.member_status %></p>
          <p class="text-secondary mb-2">報告 : <%= task.member_body %></p>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div class=" font-weight-bold text-secondary"><%= task.progress %>%</div>
        <%= f.range_field :progress, :min=>0, :max=>100, class: "form-control-range w-50", id: "task_progress_#{task.id}" %>
      <div>
      <%= f.select :manager_status,Task.manager_statuses.keys,id: "task_manager_statuse_#{task.id}" ,class: "form-control" %>
      <%= f.submit "変更を保存する",id: "task_update_#{task.id}",class: "btn btn-sm btn-outline-success" %>
      <%= link_to "削除",manager_task_path(task),id: "task_delete_#{task.id}", class: "btn btn-sm btn-outline-danger" ,method: :delete %>
      </div>
      </div>
      <% end %>
    </div>  
<% end %> 